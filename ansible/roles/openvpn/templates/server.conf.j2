port {{ openvpn_port }}
proto {{ openvpn_proto }}
dev tun

ca ca.crt
cert server.crt
key server.key
dh dh.pem

topology subnet
server {{ openvpn_network }} {{ openvpn_netmask }}

# ======================================================
# PUSH ROUTE VPC CHO CLIENT
# ======================================================
# NOTE:
# Hardcoded VPC route to ensure VPN clients receive
# correct routing information for private subnets.
# This avoids dependency on external variables during
# staging and lab deployments.
#
# VPC CIDR: 10.0.0.0/16
# ======================================================
push "route 10.20.0.0 255.255.0.0"

client-to-client

keepalive 10 120
cipher AES-256-GCM
persist-key
persist-tun

user nobody
group nogroup

status /var/log/openvpn/status.log
verb 3
